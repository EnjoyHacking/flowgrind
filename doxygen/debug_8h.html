<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Flowgrind: src/debug.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="flowgrind.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Flowgrind
   </div>
   <div id="projectbrief">TCP Performance Measurement</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('debug_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">debug.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Debugging routines for Flowgrind controller and daemon.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
</div>
<p><a href="debug_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae420d5a1d63f99c6a2a386c4eea54250"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8h.html#ae420d5a1d63f99c6a2a386c4eea54250">DEBUG_MSG</a>(LVL, MSG,...)</td></tr>
<tr class="memdesc:ae420d5a1d63f99c6a2a386c4eea54250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print debug message to standard error.  <a href="#ae420d5a1d63f99c6a2a386c4eea54250">More...</a><br/></td></tr>
<tr class="separator:ae420d5a1d63f99c6a2a386c4eea54250"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab354888b43964ca3f7e6b546cb94070e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8h.html#ab354888b43964ca3f7e6b546cb94070e">debug_timestamp</a> (void)</td></tr>
<tr class="memdesc:ab354888b43964ca3f7e6b546cb94070e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for DEBUG_MSG macro.  <a href="#ab354888b43964ca3f7e6b546cb94070e">More...</a><br/></td></tr>
<tr class="separator:ab354888b43964ca3f7e6b546cb94070e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3931d58ef028b5f4f3dcbf11c70ab244"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8h.html#a3931d58ef028b5f4f3dcbf11c70ab244">decrease_debuglevel</a> (void)</td></tr>
<tr class="memdesc:a3931d58ef028b5f4f3dcbf11c70ab244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrease debug level.  <a href="#a3931d58ef028b5f4f3dcbf11c70ab244">More...</a><br/></td></tr>
<tr class="separator:a3931d58ef028b5f4f3dcbf11c70ab244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcbb6717421f07ca7445cd99e65b79ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8h.html#abcbb6717421f07ca7445cd99e65b79ba">increase_debuglevel</a> (void)</td></tr>
<tr class="memdesc:abcbb6717421f07ca7445cd99e65b79ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrease debug level.  <a href="#abcbb6717421f07ca7445cd99e65b79ba">More...</a><br/></td></tr>
<tr class="separator:abcbb6717421f07ca7445cd99e65b79ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aaa02d25ef5eac3392189e2fae80a6fad"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8h.html#aaa02d25ef5eac3392189e2fae80a6fad">debug_level</a></td></tr>
<tr class="memdesc:aaa02d25ef5eac3392189e2fae80a6fad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global debug level for flowgrind controller and daemon.  <a href="#aaa02d25ef5eac3392189e2fae80a6fad">More...</a><br/></td></tr>
<tr class="separator:aaa02d25ef5eac3392189e2fae80a6fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Debugging routines for Flowgrind controller and daemon. </p>

<p>Definition in file <a class="el" href="debug_8h_source.html">debug.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ae420d5a1d63f99c6a2a386c4eea54250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">LVL, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">MSG, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="debug_8h.html#aaa02d25ef5eac3392189e2fae80a6fad" title="Global debug level for flowgrind controller and daemon. ">debug_level</a> &gt;= LVL)                                              \</div>
<div class="line">                fprintf(stderr, <span class="stringliteral">&quot;%s %s:%d  [%d/%d] &quot;</span> MSG <span class="stringliteral">&quot;\n&quot;</span>,               \</div>
<div class="line">                        <a class="code" href="debug_8c.html#a13f42166d906474c2c78b5d11772eb1f" title="Helper function for DEBUG_MSG macro. ">debug_timestamp</a>(), __FUNCTION__, __LINE__, getpid(), \</div>
<div class="line">                        (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)pthread_self()%USHRT_MAX, ##__VA_ARGS__);</div>
</div><!-- fragment -->
<p>Print debug message to standard error. </p>
<p>In case the debug level is higher than the given debug level, print debug message together with current time, the delta in time since the last and first debug call, the function in which the debug call occurs, and the process and thread PID </p>

<p>Definition at line <a class="el" href="debug_8h_source.html#l00052">52</a> of file <a class="el" href="debug_8h_source.html">debug.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab354888b43964ca3f7e6b546cb94070e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* debug_timestamp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function for DEBUG_MSG macro. </p>
<dl class="section return"><dt>Returns</dt><dd>string with the current time in seconds and nanoseconds since the Epoch together with the delta in time since the last and first function call </dd></dl>

<p>Definition at line <a class="el" href="debug_8c_source.html#l00052">52</a> of file <a class="el" href="debug_8c_source.html">debug.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keyword">struct </span>timespec now = {.tv_sec = 0, .tv_nsec = 0};</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keyword">static</span> <span class="keyword">struct </span>timespec first = {.tv_sec = 0, .tv_nsec = 0};</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keyword">static</span> <span class="keyword">struct </span>timespec last = {.tv_sec = 0, .tv_nsec = 0};</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">char</span> buf[80];</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="fg__time_8c.html#ac2b9db9a31fa442023443d234787ef78" title="Returns wall-clock time with nanosecond precision. ">gettime</a>(&amp;now);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">if</span> (!first.tv_sec &amp;&amp; !first.tv_nsec)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                last = first = now;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="fg__time_8c.html#af56063ee3eea9ace1754c19ba3b5d206" title="Converts timespec struct into a null-terminated string and stores the string in a user-supplied buffe...">ctimespec_r</a>(&amp;now, buf, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        snprintf(buf+strlen(buf), <span class="keyword">sizeof</span>(buf)-strlen(buf),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                 <span class="stringliteral">&quot; [+%8.6lf] (%8.6lf)&quot;</span>,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                 <a class="code" href="fg__time_8c.html#a1ce08f00b1930420282aa6422ce66f24" title="Returns the time difference between two specific points in time. ">time_diff</a>(&amp;last, &amp;now), <a class="code" href="fg__time_8c.html#a1ce08f00b1930420282aa6422ce66f24" title="Returns the time difference between two specific points in time. ">time_diff</a>(&amp;first, &amp;now));</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        last = now;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">return</span> buf;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3931d58ef028b5f4f3dcbf11c70ab244"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void decrease_debuglevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrease debug level. </p>

<p>Definition at line <a class="el" href="debug_8c_source.html#l00040">40</a> of file <a class="el" href="debug_8c_source.html">debug.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="debug_8h.html#aaa02d25ef5eac3392189e2fae80a6fad" title="Global debug level for flowgrind controller and daemon. ">debug_level</a>--;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        printf(<span class="stringliteral">&quot;DEBUG_LEVEL=%d&quot;</span>, <a class="code" href="debug_8h.html#aaa02d25ef5eac3392189e2fae80a6fad" title="Global debug level for flowgrind controller and daemon. ">debug_level</a>);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abcbb6717421f07ca7445cd99e65b79ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void increase_debuglevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrease debug level. </p>

<p>Definition at line <a class="el" href="debug_8c_source.html#l00046">46</a> of file <a class="el" href="debug_8c_source.html">debug.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="debug_8h.html#aaa02d25ef5eac3392189e2fae80a6fad" title="Global debug level for flowgrind controller and daemon. ">debug_level</a>++;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        printf(<span class="stringliteral">&quot;DEBUG_LEVEL=%d\n&quot;</span>, <a class="code" href="debug_8h.html#aaa02d25ef5eac3392189e2fae80a6fad" title="Global debug level for flowgrind controller and daemon. ">debug_level</a>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aaa02d25ef5eac3392189e2fae80a6fad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int debug_level</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global debug level for flowgrind controller and daemon. </p>

<p>Definition at line <a class="el" href="debug_8h_source.html#l00059">59</a> of file <a class="el" href="debug_8h_source.html">debug.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="debug_8h.html">debug.h</a></li>
    <li class="footer">Generated on Wed Jan 22 2014 18:50:59 for Flowgrind by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
